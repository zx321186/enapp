<!--
  Generated template for the ProductDetail page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-menu [content]="positioncontent" side="right" type="overlay" id="position">

  <ion-header>
    <ion-toolbar>
      <ion-title>地区选择</ion-title>
    </ion-toolbar>
  </ion-header>

  <ion-content class="list-avatar-page">
    <ion-list>
      <ion-item *ngFor="let item of cityArray" (click)="itemSelected(item)">
        <h2>{{item}}</h2>
        <p>{{item}}    Ugh. As if.</p>
        <ion-note item-right>小明</ion-note>
      </ion-item>
    </ion-list>
  </ion-content>

</ion-menu> 

<ion-content #positioncontent>
  <ion-header>

    <ion-navbar>
      <ion-title>ProductDetail</ion-title>
      <ion-buttons end tappable (click)="showMore($event)">
    	  <button ion-button icon-only>
    	    <ion-icon name="more"></ion-icon>
    	  </button>
    	</ion-buttons>
    </ion-navbar>

    <ion-navbar>
      <div padding>
    	  <ion-segment [(ngModel)]="productDetail" (ionChange)=segmentChange($event)>
    	    <ion-segment-button value="product">
    	      商品
    	    </ion-segment-button>
    	    <ion-segment-button value="detail">
    	      详情
    	    </ion-segment-button>
    	  </ion-segment>
    	</div>
    </ion-navbar>

  </ion-header>

  <ion-content>
  	<div [ngSwitch]="productDetail">
	    <ion-list *ngSwitchCase="'product'">
        <ion-slides pager #mySlider [options]="mySlideOptions">
		      <ion-slide *ngFor="let item of imgShowArr">
		          <img src="{{item}}">
		      </ion-slide>
		    </ion-slides>
		    <div class="detail-name" padding>
			    <h2>{{items?.datas?.goods_info?.goods_name}}</h2>
	    		<p>{{items?.datas?.goods_info?.goods_jingle}}</p>
	    	</div>
	    	<div class="detail-price clearfix" padding>
			    <span class="fl pirce">￥<em>{{items?.datas?.goods_info?.goods_price}}</em></span>
			    <span class="fr">销量:{{items?.datas?.goods_info?.goods_salenum}}件</span>
	    	</div>
	    	<div class="detail-item">
	    		<ion-list no-lines>
				    <ion-item tappable (click)=changePosition()>
				      <ion-avatar item-left>
  				      送至
  				    </ion-avatar>
  				    <h2>{{city}}:有货</h2>
  				    <p>免运费</p>
  				    <ion-icon item-right name="pin"></ion-icon>
  				  </ion-item>
				    <button ion-item tappable (click)=changeType()>
  				    <ion-avatar item-left>
  				      已选
  				    </ion-avatar>
  				    <h2 >{{productName}}</h2>
				    </button>
				    <button ion-item (click)=reviews()>
  				    <ion-avatar item-left center>
  				      商品评价
  				    </ion-avatar>
  				    <h2>
  				    	<p class="fl">好评率<em>100%</em></p>
  				    	<p class="fr">（0人评价）</p>
  				    </h2>
  				  </button>
				  </ion-list>
	    	</div>
	    	<div class="detail-item">
				<h2 margin>店铺推荐</h2>
				<ion-grid>
				  <ion-row wrap>
				    <ion-col width-25 *ngFor="let item of items?.datas?.goods_commend_list" (click)=pushDetail(item.goods_id)>
				    	<div class="hot_list">
                <div class="img_box">
                  <img src="{{item.goods_image_url}}">
                </div>
				    		<div class="content">
				    			<div class="hot_title">{{item.goods_name}}</div>
				    			<div class="hot_content">${{item.goods_promotion_price}}</div>
				    		</div>
				    	</div>
				    </ion-col>
				  </ion-row>
				</ion-grid>
	    	</div>
	    </ion-list>
	    <ion-list *ngSwitchCase="'detail'">
	       <div class="imgDetail" [innerHTML]="imgArr"></div>
	    </ion-list>
  	</div>
  </ion-content>

  <ion-footer>
    <ion-toolbar>
       <ion-grid>
        <ion-row>
          <ion-col width-50>
            <ion-row wrap>
              <ion-col width-33>
                <button ion-button color="light" block  (click)="contact($event)">
                  <div>
                    <ion-icon name="chatbubbles"></ion-icon>
                    <div>客服</div>
                  </div>
                </button>
              </ion-col>
              <ion-col width-33>
                <button ion-button color="light" block  (click)="shoppingCar()">
                  <div>
                    <ion-icon name="cart"></ion-icon>
                    <div>购物车</div>
                  </div>
                </button>
              </ion-col>
              <ion-col width-33>
                <button ion-button color="light" block  (click)="collect($event)">
                  <div [ngSwitch]="collection">
                    <ion-icon *ngSwitchCase="false" name="heart-outline"></ion-icon>
                    <ion-icon *ngSwitchCase="true" name="heart"></ion-icon>
                    <div>收藏</div>
                  </div>
                </button>
              </ion-col>
            </ion-row>
          </ion-col>
          <ion-col width-50>
            <ion-row>
              <ion-col width-50>
                  <button ion-button color="light" block (click)=changeType()>立即购买</button>
              </ion-col>
              <ion-col width-50>
                <button ion-button color="light" block (click)=changeType()>加入购物车</button>
              </ion-col>
            </ion-row>
          </ion-col>
        </ion-row>
      </ion-grid>
    </ion-toolbar>
  </ion-footer>
</ion-content>
