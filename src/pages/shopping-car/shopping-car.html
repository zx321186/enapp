<!--
  Generated template for the ShoppingCar page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>购物车</ion-title>
    <ion-buttons end tappable (click)="message()">
      <button ion-button icon-only>
        <ion-icon name="text"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>
</ion-header>


<ion-content>
  <ion-list>
    <ion-list-header>
      普通购物
    </ion-list-header>
    <ion-item-sliding *ngFor="let item of dataArr">
      <ion-item>
        <ion-label>
          <ion-item>
            <ion-thumbnail item-left (click)="openDetail(item.id)">
              <a href="javascript:;">
                <img src="img/1.jpg">
              </a>
            </ion-thumbnail>
            <h2>{{item.name}}</h2>
            <p>{{item.context}}</p>
            <p>${{item.price}}</p>
            <div item-right style="font-size:0;">
              <button ion-button (click)="add(item.id)">
                <ion-icon name="add"></ion-icon>
              </button>
                <input type="number" value="{{item.number}}" #number (input)="changeNumber(item.id,number.value)">
              <button ion-button (click)="reduce(item.id)">
                <ion-icon name="remove"></ion-icon>
              </button>
            </div>
          </ion-item>
        </ion-label>
        <ion-checkbox color="dark" checked="{{allSelect}}" #select (ionChange)="selectGoods(item.id,select.checked)"></ion-checkbox>
      </ion-item>
      <ion-item-options side="right">
        <button ion-button color="primary">
          <ion-icon name="trash"></ion-icon>
          删除
        </button>
      </ion-item-options>
    </ion-item-sliding>
  </ion-list>
</ion-content>

<ion-footer>
  <ion-toolbar>
    <ion-item no-lines>
        <ion-label>
          <ion-item>
            <p align-center>总计：${{totalPrice | tofixedtwo}}  ({{totalNumber}}件)</p>
            <div item-right>
              <button ion-button clear (click)="carSubmit()">
                立即结算
              </button>
            </div>
          </ion-item>
        </ion-label>
        <ion-checkbox color="dark" checked="{{allSelect}}" #allSelection (ionChange)="selectAll(allSelection.checked)"></ion-checkbox>
      </ion-item>
  </ion-toolbar>
</ion-footer>